{% if section.settings.enable %}
  <style>
    {%- for block in section.blocks  -%}
      .hero-main--{{ block.id }}{
        background-image:url('{{ block.settings.mobile_image | img_url: 'master' }}');
      }
      @media screen and (min-width: 749px) {
        .hero-main--{{ block.id }}{
          background-image:url('{{ block.settings.image | img_url: 'master' }}');
        }
      }
    {%- endfor -%}
  </style>

  {% if section.settings.full-width != 'full-width' %}<div class="page-width">{% endif %}
    <div class="hero-main--two-column-wrapper {% if section.settings.margin_bottom == 'margin' %}section-margin-bottom{% endif %}">
      {%- for block in section.blocks  -%}
        {%- capture alignContent -%}
          {% case block.settings.alignment %}
            {% when 'left' %}
              hero-main--left
            {% when 'right' %}
              hero-main--right
            {% else %}
              hero-main--center
          {% endcase %}
        {%- endcapture -%}

        <div class="hero-main hero-main--two-column {{ alignContent }} hero-main--{{ block.id }} 
          {% if block.settings.text_color == 'white' %}hero-main--white{% endif %}">

          <div class="hero-main__wrapper">

            {% if block.settings.title != blank %}
              <h2 class="h1 hero-main__title">{{ block.settings.title | escape }}</h2>
            {% endif %}
            
              <div class="rte-setting hero-main__text">
              {% if block.settings.text != blank %}{{ block.settings.text }}{% endif %}
              {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                <a href="{{ block.settings.button_link }}" class="{% if block.settings.button_color == 'white' %}button--white {% else %} button {% endif %}">
                  {{ block.settings.button_label }}
                </a>
              {% endif %}
              </div>

          </div>
        </div>
      {%- endfor -%}
    </div>
  {% if section.settings.full-width != 'full-width' %}</div>{% endif %}
{% endif %}
 
{% schema %}
  {
    "name": "Two Column - Image Hero",
    "class": "index-section index-section--flush",
    "max_blocks": 2,
    "settings": [
      {
        "type": "checkbox",
        "id": "enable",
        "label": "Show section"
      },
      {
        "type": "select",
        "id": "full-width",
        "label": "Full width",
        "default": "full-width",
        "options": [
          {
            "label": "Full width",
            "value": "full-width"
          },
          {
            "label": "Within wrapper",
            "value": "wrapper"
          }
        ]
      },
      {
        "type": "select",
        "id": "margin_bottom",
        "label": "Margin bottom",
        "default": "no-margin",
        "options": [
          {
            "label": "Margin bottom",
            "value": "margin"
          },
          {
            "label": "No margin",
            "value": "no-margin"
          }
        ]
      }
    ],
    "blocks": [
      {
        "type": "image_block",
        "name": "New Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Desktop Image"
          },
          {
            "type": "image_picker",
            "id": "mobile_image",
            "label": "Mobile Image"
          },
          {
            "type": "select",
            "id": "alignment",
            "label": "Text alignment",
            "default": "center",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ]
          },
          {
            "type": "select",
            "id": "text_color",
            "label": "Text colour",
            "default": "black",
            "options": [
              {
                "label": "White",
                "value": "white"
              },
              {
                "label": "Black",
                "value": "black"
              }
            ]
          },
          {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Image with text overlay"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Use overlay text to give your customers insight into your brand. Select imagery and text that relates to your style and story.</p>"
          },
          
          {
            "type": "text",
            "id": "button_label",
            "label": "Button label"
          },
          {
            "type": "url",
            "id": "button_link",
            "label": "Button link"
          },
          {
            "type": "select",
            "id": "button_color",
            "label": "Button colour",
            "default": "black",
            "options": [
              {
                "label": "White",
                "value": "white"
              },
              {
                "label": "Black",
                "value": "black"
              }
            ]
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Two Column - Image Hero",
        "category": "Image"
      }
    ]
  }
{% endschema %}