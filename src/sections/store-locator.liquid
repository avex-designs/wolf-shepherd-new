<div class="page-layout">
  <header class="stockist__header">
    <div class="page-width">
      <div class="grid">
        <div class="grid__item medium-up--one-whole large-up--eight-twelfths large-up--push-two-twelfths">
          <div class="stockist__container">
            <h1 class="stockist__title">{{ page.title | escape }}</h1>

              <ul class="stockist__locations">

              {%- for block in section.blocks -%}
                <li class="stockist__location">
                  {%- if block.settings.location_url != blank -%}<a href="{{block.settings.location_url}}" title="{{block.settings.location_title}}">{%- endif -%}
                    <img src="{{ block.settings.location_img | img_url: 'master' }}" alt="{{section.settings.location_img.alt}}"/>
                    <h6>{{block.settings.location_title}}</h6>
                  {%- if block.settings.location_url != blank -%}</a>{%- endif -%}
                </li>
              {%- endfor -%}
            </ul>

          </div>
        </div>
      </div>
    </div>
  </header>
</div>

{{ page.content }}

{% schema %}
  {
    "name": "Stockist",
    "blocks": [
      {
        "type": "location",
        "name": "Location",
        "settings": [
          {
            "type": "image_picker",
            "id": "location_img",
            "label": "Location image"
          },
          {
            "type": "text",
            "id": "location_title",
            "label": "Location title"
          },
          {
            "type": "url",
            "id": "location_url",
            "label": "Location URL"
          }
        ]
      }
    ]
  }
{% endschema %}
