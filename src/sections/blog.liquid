  {%- capture alignContent -%}
    {% case section.settings.alignment %}
      {% when 'left' %}
        hero-main--left
      {% else %}
        hero-main--center
    {% endcase %}
  {%- endcapture -%}

  {%- assign postCounter = section.settings.post_count -%} 
  {%- capture postCounterClass -%}
    grid__item small--one-half
    {% case postCounter %}
      {% when '2' %}
        medium-up--one-half
      {% when '3' %}
        medium-up--one-third
      {% when '4' %}
        medium-up--one-quarter
      {% else %}
        medium-up--one-whole
    {% endcase %}
  {%- endcapture -%}

  
  {% for article in blog.articles limit:1 %}

    {% include 'hero-image' with type: 'article' %}
    
  {% endfor %}



  {% paginate blog.articles by 48 %}


  {% comment %}

  Article Previews
  ====================
  {% endcomment %}
<div class="page-width">
  <div class="grid section-margin-bottom">

    {% for article in blog.articles %}
      {% if forloop.index != 1 %}
        {% if section.settings.post_layout == "grid" %}
          {% include 'featured-posts'  with gridWidth: postCounterClass %}
        {% else %}
          {% include 'post-list-layout'%}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if paginate.pages > 1 %}
      {% include 'pagination' %}
    {% endif %}
  </div>
</div>

{% endpaginate %}

{% schema %}
  {
    "name": "Blog",
    "settings": [
      
      {
        "type": "header",
        "content": "Post Settings"
      },
      {
        "type": "select",
        "id": "post_layout",
        "label": "Layout of posts",
        "default": "grid",
        "options": [
          {
            "value": "grid",
            "label": "Grid"
          },
          {
            "value": "list",
            "label": "List"
          }
        ]
      },
      {
        "type": "select",
        "id": "post_count",
        "label": "Number of posts per row",
        "default": "3",
        "options": [
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          }
        ]
      }
    ]
  }
{% endschema %}